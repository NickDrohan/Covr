<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="csrf-token" content={Phoenix.Controller.get_csrf_token()} />
    <title>Covr Admin Dashboard</title>
    <style>
      :root {
        --primary: #2563eb;
        --primary-dark: #1d4ed8;
        --success: #22c55e;
        --warning: #eab308;
        --danger: #ef4444;
        --bg: #f8fafc;
        --card-bg: #ffffff;
        --text: #1e293b;
        --text-muted: #64748b;
        --border: #e2e8f0;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        background: var(--bg);
        color: var(--text);
        line-height: 1.6;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 2rem;
      }

      header {
        background: var(--card-bg);
        border-bottom: 1px solid var(--border);
        padding: 1rem 2rem;
        margin-bottom: 2rem;
      }

      header h1 {
        font-size: 1.5rem;
        color: var(--primary);
      }

      .grid {
        display: grid;
        gap: 1.5rem;
      }

      .grid-2 { grid-template-columns: repeat(2, 1fr); }
      .grid-3 { grid-template-columns: repeat(3, 1fr); }
      .grid-4 { grid-template-columns: repeat(4, 1fr); }

      @media (max-width: 768px) {
        .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
      }

      .card {
        background: var(--card-bg);
        border-radius: 0.5rem;
        border: 1px solid var(--border);
        padding: 1.5rem;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }

      .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
        padding-bottom: 0.75rem;
        border-bottom: 1px solid var(--border);
      }

      .card-title {
        font-size: 1rem;
        font-weight: 600;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      .stat-value {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--text);
        line-height: 1;
      }

      .stat-label {
        font-size: 0.875rem;
        color: var(--text-muted);
        margin-top: 0.25rem;
      }

      .badge {
        display: inline-flex;
        align-items: center;
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
      }

      .badge-pending { background: #fef3c7; color: #92400e; }
      .badge-running { background: #dbeafe; color: #1e40af; }
      .badge-completed { background: #dcfce7; color: #166534; }
      .badge-failed { background: #fee2e2; color: #991b1b; }

      table {
        width: 100%;
        border-collapse: collapse;
      }

      th, td {
        text-align: left;
        padding: 0.75rem 1rem;
        border-bottom: 1px solid var(--border);
      }

      th {
        font-weight: 600;
        color: var(--text-muted);
        font-size: 0.875rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      tr:hover td {
        background: var(--bg);
      }

      .progress-bar {
        height: 8px;
        background: var(--border);
        border-radius: 4px;
        overflow: hidden;
      }

      .progress-fill {
        height: 100%;
        background: var(--success);
        transition: width 0.3s ease;
      }

      .text-muted { color: var(--text-muted); }
      .text-success { color: var(--success); }
      .text-warning { color: var(--warning); }
      .text-danger { color: var(--danger); }

      .mt-1 { margin-top: 0.25rem; }
      .mt-2 { margin-top: 0.5rem; }
      .mt-4 { margin-top: 1rem; }
      .mb-4 { margin-bottom: 1rem; }

      .flex { display: flex; }
      .flex-between { justify-content: space-between; }
      .items-center { align-items: center; }
      .gap-2 { gap: 0.5rem; }
      .gap-4 { gap: 1rem; }

      .refresh-indicator {
        font-size: 0.75rem;
        color: var(--text-muted);
      }

      .section-title {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 1rem;
        color: var(--text);
      }

      .api-endpoint {
        font-family: monospace;
        background: var(--bg);
        padding: 0.5rem 0.75rem;
        border-radius: 0.25rem;
        font-size: 0.875rem;
      }

      .method {
        display: inline-block;
        padding: 0.125rem 0.5rem;
        border-radius: 0.25rem;
        font-size: 0.75rem;
        font-weight: 600;
        margin-right: 0.5rem;
      }

      .method-get { background: #dbeafe; color: #1e40af; }
      .method-post { background: #dcfce7; color: #166534; }

      .empty-state {
        text-align: center;
        padding: 2rem;
        color: var(--text-muted);
      }
    </style>
    <script defer src="https://unpkg.com/phoenix@1.7.14/priv/static/phoenix.min.js"></script>
    <script defer src="https://unpkg.com/phoenix_live_view@0.20.17/priv/static/phoenix_live_view.min.js"></script>
    <script>
      window.addEventListener("DOMContentLoaded", () => {
        const csrfToken = document.querySelector("meta[name='csrf-token']").getAttribute("content");
        const liveSocket = new window.LiveView.LiveSocket("/live", window.Phoenix.Socket, {
          params: { _csrf_token: csrfToken }
        });
        liveSocket.connect();
        window.liveSocket = liveSocket;
      });
    </script>
  </head>
  <body>
    <%= @inner_content %>
  </body>
</html>
